{"ast":null,"code":"var _jsxFileName = \"/Users/erwanbeguin/Documents/Developper/ynov/dataviz/src/features/Map/MapBox.js\";\nimport React from \"react\";\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet\";\nimport \"./MapBox.css\";\nimport { Box, Text } from \"grommet\";\n\nconst MapBox = () => {\n  const [data, setData] = React.useState([]);\n  React.useEffect(() => {\n    fetch(\"https://opendata.paris.fr/api/records/1.0/search/?dataset=referentiel-archeologique-de-paris&q=&facet=code_postal&facet=nature_operation&facet=responsable_operation&facet=date_operation&facet=prehistoire&facet=protohistoire&facet=antiquite&facet=moyen_age&facet=temps_modernes&facet=epoque_contemporaine\", {\n      headers: {\n        accept: \"application/json, text/plain, */*\",\n        \"accept-language\": \"fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7\",\n        \"sec-fetch-dest\": \"empty\",\n        \"sec-fetch-mode\": \"cors\",\n        \"sec-fetch-site\": \"same-origin\",\n        \"x-csrftoken\": \"CHBCOuwNomhXRbwTmvAaJPoOYHMy2uQWjyc1mjrjPRvWCmI0eRZenzlbl2OXKEGD\"\n      },\n      referrer: \"https://opendata.paris.fr/explore/dataset/referentiel-archeologique-de-paris/api/?disjunctive.code_postal&disjunctive.nature_operation&disjunctive.responsable_operation&disjunctive.date_operation&disjunctive.prehistoire&disjunctive.protohistoire&disjunctive.antiquite&disjunctive.moyen_age&disjunctive.temps_modernes&disjunctive.epoque_contemporaine\",\n      referrerPolicy: \"strict-origin-when-cross-origin\",\n      body: null,\n      method: \"GET\",\n      mode: \"cors\",\n      credentials: \"include\"\n    }).then(data => setData(data.records));\n  }, []);\n  return /*#__PURE__*/React.createElement(Box, {\n    height: \"medium\",\n    width: \"large\",\n    margin: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Map, {\n    center: [48.8, 2.33],\n    zoom: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TileLayer, {\n    url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }), data.map(item => /*#__PURE__*/React.createElement(Marker, {\n    position: item.fields.geo_point_2d,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Popup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    margin: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }, item.fields.synthese)))))));\n};\n\nexport default MapBox;","map":{"version":3,"sources":["/Users/erwanbeguin/Documents/Developper/ynov/dataviz/src/features/Map/MapBox.js"],"names":["React","Map","TileLayer","Marker","Popup","Box","Text","MapBox","data","setData","useState","useEffect","fetch","headers","accept","referrer","referrerPolicy","body","method","mode","credentials","then","records","map","item","fields","geo_point_2d","synthese"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,EAAcC,SAAd,EAAyBC,MAAzB,EAAiCC,KAAjC,QAA8C,eAA9C;AACA,OAAO,cAAP;AACA,SAASC,GAAT,EAAcC,IAAd,QAA0B,SAA1B;;AAEA,MAAMC,MAAM,GAAG,MAAM;AACnB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBT,KAAK,CAACU,QAAN,CAAe,EAAf,CAAxB;AAEAV,EAAAA,KAAK,CAACW,SAAN,CAAgB,MAAM;AACpBC,IAAAA,KAAK,CACH,iTADG,EAEH;AACEC,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAE,mCADD;AAEP,2BAAmB,qCAFZ;AAGP,0BAAkB,OAHX;AAIP,0BAAkB,MAJX;AAKP,0BAAkB,aALX;AAMP,uBACE;AAPK,OADX;AAUEC,MAAAA,QAAQ,EACN,+VAXJ;AAYEC,MAAAA,cAAc,EAAE,iCAZlB;AAaEC,MAAAA,IAAI,EAAE,IAbR;AAcEC,MAAAA,MAAM,EAAE,KAdV;AAeEC,MAAAA,IAAI,EAAE,MAfR;AAgBEC,MAAAA,WAAW,EAAE;AAhBf,KAFG,CAAL,CAoBEC,IApBF,CAoBQb,IAAD,IAAUC,OAAO,CAACD,IAAI,CAACc,OAAN,CApBxB;AAqBD,GAtBD,EAsBG,EAtBH;AAwBA,sBACE,oBAAC,GAAD;AAAK,IAAA,MAAM,EAAC,QAAZ;AAAqB,IAAA,KAAK,EAAC,OAA3B;AAAmC,IAAA,MAAM,EAAC,OAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,MAAM,EAAE,CAAC,IAAD,EAAO,IAAP,CAAb;AAA2B,IAAA,IAAI,EAAE,EAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAW,IAAA,GAAG,EAAC,oDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGd,IAAI,CAACe,GAAL,CAAUC,IAAD,iBACR,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAEA,IAAI,CAACC,MAAL,CAAYC,YAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,MAAM,EAAC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOF,IAAI,CAACC,MAAL,CAAYE,QAAnB,CADF,CADF,CADF,CADD,CAFH,CADF,CADF;AAgBD,CA3CD;;AA6CA,eAAepB,MAAf","sourcesContent":["import React from \"react\";\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet\";\nimport \"./MapBox.css\";\nimport { Box, Text } from \"grommet\";\n\nconst MapBox = () => {\n  const [data, setData] = React.useState([]);\n\n  React.useEffect(() => {\n    fetch(\n      \"https://opendata.paris.fr/api/records/1.0/search/?dataset=referentiel-archeologique-de-paris&q=&facet=code_postal&facet=nature_operation&facet=responsable_operation&facet=date_operation&facet=prehistoire&facet=protohistoire&facet=antiquite&facet=moyen_age&facet=temps_modernes&facet=epoque_contemporaine\",\n      {\n        headers: {\n          accept: \"application/json, text/plain, */*\",\n          \"accept-language\": \"fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7\",\n          \"sec-fetch-dest\": \"empty\",\n          \"sec-fetch-mode\": \"cors\",\n          \"sec-fetch-site\": \"same-origin\",\n          \"x-csrftoken\":\n            \"CHBCOuwNomhXRbwTmvAaJPoOYHMy2uQWjyc1mjrjPRvWCmI0eRZenzlbl2OXKEGD\",\n        },\n        referrer:\n          \"https://opendata.paris.fr/explore/dataset/referentiel-archeologique-de-paris/api/?disjunctive.code_postal&disjunctive.nature_operation&disjunctive.responsable_operation&disjunctive.date_operation&disjunctive.prehistoire&disjunctive.protohistoire&disjunctive.antiquite&disjunctive.moyen_age&disjunctive.temps_modernes&disjunctive.epoque_contemporaine\",\n        referrerPolicy: \"strict-origin-when-cross-origin\",\n        body: null,\n        method: \"GET\",\n        mode: \"cors\",\n        credentials: \"include\",\n      }\n    ).then((data) => setData(data.records));\n  }, []);\n\n  return (\n    <Box height=\"medium\" width=\"large\" margin=\"small\">\n      <Map center={[48.8, 2.33]} zoom={12}>\n        <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\n        {data.map((item) => (\n          <Marker position={item.fields.geo_point_2d}>\n            <Popup>\n              <Box margin=\"small\">\n                <Text>{item.fields.synthese}</Text>\n              </Box>\n            </Popup>\n          </Marker>\n        ))}\n      </Map>\n    </Box>\n  );\n};\n\nexport default MapBox;\n"]},"metadata":{},"sourceType":"module"}