{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, useContext, useMemo } from 'react';\nimport { Box } from '../Box';\nimport { CheckBox } from '../CheckBox';\nimport { FormContext } from '../Form/FormContext';\nexport var CheckBoxGroup = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var valueProp = _ref.value,\n      disabledProp = _ref.disabled,\n      _ref$gap = _ref.gap,\n      gap = _ref$gap === void 0 ? 'small' : _ref$gap,\n      labelKey = _ref.labelKey,\n      valueKey = _ref.valueKey,\n      onChange = _ref.onChange,\n      optionsProp = _ref.options,\n      name = _ref.name,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"value\", \"disabled\", \"gap\", \"labelKey\", \"valueKey\", \"onChange\", \"options\", \"name\"]);\n\n  var formContext = useContext(FormContext); // In case option is a string, normalize it to be an object\n\n  var options = useMemo(function () {\n    return optionsProp.map(function (option) {\n      return typeof option === 'string' ? {\n        disabled: disabledProp,\n        value: option,\n        label: option\n      } : option;\n    });\n  }, [optionsProp, disabledProp]); // 'value' is an array of checked valueKeys\n\n  var _formContext$useFormI = formContext.useFormInput(name, valueProp, []),\n      value = _formContext$useFormI[0],\n      setValue = _formContext$useFormI[1]; // Logic is necessary to maintain a proper data structure for Form logic\n\n\n  var onCheckBoxChange = function onCheckBoxChange(event, optionValue, option) {\n    // deep copy of value\n    var nextValue = JSON.parse(JSON.stringify(value)) || [];\n    var optionIndex = nextValue.indexOf(optionValue); // If the value option isn't in the array, add it.\n    // Otherwise, remove it.\n\n    if (optionIndex < 0) nextValue.push(optionValue);else nextValue.splice(optionIndex, 1);\n    setValue(nextValue); // Similar functionality to Select onChange()\n\n    if (onChange) {\n      event.persist(); // extract from React synthetic event pool\n\n      var adjustedEvent = event;\n      adjustedEvent.value = nextValue;\n      adjustedEvent.option = option;\n      onChange(adjustedEvent);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Box, _extends({\n    ref: ref,\n    gap: gap\n  }, rest), options.map(function (option) {\n    var label = labelKey ? option[labelKey] : option.label;\n    var valueOption = valueKey ? option[valueKey] : option.value;\n    var checked = value.indexOf(valueOption) >= 0;\n    var disabled = disabledProp || option.disabled;\n    if (option.checked) console.warn( // eslint-disable-next-line max-len\n    \"'checked' prop of an individual CheckBox shouldn't be used in a CheckBoxGroup component. Use the CheckBoxGroup 'value' prop instead.\"); // value shouldn't propagate the input field and the onChange option\n\n    var omit = option.value,\n        optionRest = _objectWithoutPropertiesLoose(option, [\"value\"]);\n\n    var optionProps = _extends({}, optionRest, {\n      label: label,\n      disabled: disabled\n    });\n\n    return /*#__PURE__*/React.createElement(CheckBox, _extends({\n      key: label\n    }, optionProps, {\n      disabled: disabled,\n      checked: checked,\n      label: label,\n      onChange: function onChange(event) {\n        return onCheckBoxChange(event, valueOption, optionProps);\n      }\n    }));\n  }));\n});\nCheckBoxGroup.displayName = 'CheckBoxGroup';\nvar CheckBoxGroupDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  CheckBoxGroupDoc = require('./doc').doc(CheckBoxGroup);\n}\n\nvar RadioButtonGroupWrapper = CheckBoxGroupDoc || CheckBoxGroup;\nexport { RadioButtonGroupWrapper as RadioButtonGroup };","map":{"version":3,"sources":["/Users/erwanbeguin/Documents/Developper/ynov/dataviz/node_modules/grommet/es6/components/CheckBoxGroup/CheckBoxGroup.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","forwardRef","useContext","useMemo","Box","CheckBox","FormContext","CheckBoxGroup","_ref","ref","valueProp","value","disabledProp","disabled","_ref$gap","gap","labelKey","valueKey","onChange","optionsProp","options","name","rest","formContext","map","option","label","_formContext$useFormI","useFormInput","setValue","onCheckBoxChange","event","optionValue","nextValue","JSON","parse","stringify","optionIndex","push","splice","persist","adjustedEvent","createElement","valueOption","checked","console","warn","omit","optionRest","optionProps","displayName","CheckBoxGroupDoc","process","env","NODE_ENV","require","doc","RadioButtonGroupWrapper","RadioButtonGroup"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef, useContext, useMemo } from 'react';\nimport { Box } from '../Box';\nimport { CheckBox } from '../CheckBox';\nimport { FormContext } from '../Form/FormContext';\nexport var CheckBoxGroup = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var valueProp = _ref.value,\n      disabledProp = _ref.disabled,\n      _ref$gap = _ref.gap,\n      gap = _ref$gap === void 0 ? 'small' : _ref$gap,\n      labelKey = _ref.labelKey,\n      valueKey = _ref.valueKey,\n      onChange = _ref.onChange,\n      optionsProp = _ref.options,\n      name = _ref.name,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"value\", \"disabled\", \"gap\", \"labelKey\", \"valueKey\", \"onChange\", \"options\", \"name\"]);\n\n  var formContext = useContext(FormContext); // In case option is a string, normalize it to be an object\n\n  var options = useMemo(function () {\n    return optionsProp.map(function (option) {\n      return typeof option === 'string' ? {\n        disabled: disabledProp,\n        value: option,\n        label: option\n      } : option;\n    });\n  }, [optionsProp, disabledProp]); // 'value' is an array of checked valueKeys\n\n  var _formContext$useFormI = formContext.useFormInput(name, valueProp, []),\n      value = _formContext$useFormI[0],\n      setValue = _formContext$useFormI[1]; // Logic is necessary to maintain a proper data structure for Form logic\n\n\n  var onCheckBoxChange = function onCheckBoxChange(event, optionValue, option) {\n    // deep copy of value\n    var nextValue = JSON.parse(JSON.stringify(value)) || [];\n    var optionIndex = nextValue.indexOf(optionValue); // If the value option isn't in the array, add it.\n    // Otherwise, remove it.\n\n    if (optionIndex < 0) nextValue.push(optionValue);else nextValue.splice(optionIndex, 1);\n    setValue(nextValue); // Similar functionality to Select onChange()\n\n    if (onChange) {\n      event.persist(); // extract from React synthetic event pool\n\n      var adjustedEvent = event;\n      adjustedEvent.value = nextValue;\n      adjustedEvent.option = option;\n      onChange(adjustedEvent);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Box, _extends({\n    ref: ref,\n    gap: gap\n  }, rest), options.map(function (option) {\n    var label = labelKey ? option[labelKey] : option.label;\n    var valueOption = valueKey ? option[valueKey] : option.value;\n    var checked = value.indexOf(valueOption) >= 0;\n    var disabled = disabledProp || option.disabled;\n    if (option.checked) console.warn( // eslint-disable-next-line max-len\n    \"'checked' prop of an individual CheckBox shouldn't be used in a CheckBoxGroup component. Use the CheckBoxGroup 'value' prop instead.\"); // value shouldn't propagate the input field and the onChange option\n\n    var omit = option.value,\n        optionRest = _objectWithoutPropertiesLoose(option, [\"value\"]);\n\n    var optionProps = _extends({}, optionRest, {\n      label: label,\n      disabled: disabled\n    });\n\n    return /*#__PURE__*/React.createElement(CheckBox, _extends({\n      key: label\n    }, optionProps, {\n      disabled: disabled,\n      checked: checked,\n      label: label,\n      onChange: function onChange(event) {\n        return onCheckBoxChange(event, valueOption, optionProps);\n      }\n    }));\n  }));\n});\nCheckBoxGroup.displayName = 'CheckBoxGroup';\nvar CheckBoxGroupDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  CheckBoxGroupDoc = require('./doc').doc(CheckBoxGroup);\n}\n\nvar RadioButtonGroupWrapper = CheckBoxGroupDoc || CheckBoxGroup;\nexport { RadioButtonGroupWrapper as RadioButtonGroup };"]},"metadata":{},"sourceType":"module"}