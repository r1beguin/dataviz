{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  body { margin: 0; }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  strings.raw = raw;\n  return strings;\n}\n\nimport React, { Component } from 'react';\nimport { createGlobalStyle } from 'styled-components';\nimport { ResponsiveContext, ThemeContext, ContainerTargetContext } from '../../contexts';\nimport { backgroundIsDark, deepMerge, getBreakpoint, getDeviceBreakpoint, normalizeColor } from '../../utils';\nimport { base as baseTheme } from '../../themes';\nimport { StyledGrommet } from './StyledGrommet';\nvar FullGlobalStyle = createGlobalStyle(_templateObject());\n\nvar Grommet = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Grommet, _Component);\n\n  function Grommet() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"onResize\", function () {\n      var _this$state = _this.state,\n          theme = _this$state.theme,\n          responsive = _this$state.responsive;\n      var breakpoint; // responsive would be undefined in the case of SSR or initial page load\n\n      if (!responsive) {\n        // In the case of SSR we'll need to use the user agent breakpoint\n        breakpoint = _this.deviceResponsive();\n      } // Initial page load where both responsive and breakpoint are undefined\n\n\n      if (!breakpoint) breakpoint = getBreakpoint(window.innerWidth, theme);\n\n      if (breakpoint !== responsive) {\n        _this.setState({\n          responsive: breakpoint\n        });\n      }\n    });\n\n    return _this;\n  }\n\n  Grommet.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var backgroundProp = nextProps.background,\n        dir = nextProps.dir,\n        _nextProps$theme = nextProps.theme,\n        theme = _nextProps$theme === void 0 ? {} : _nextProps$theme,\n        themeMode = nextProps.themeMode;\n    var stateTheme = prevState.theme,\n        themeProp = prevState.themeProp,\n        themeModeProp = prevState.themeModeProp;\n    var nextTheme = deepMerge(baseTheme, theme);\n\n    if (!stateTheme || theme !== themeProp || themeMode !== themeModeProp) {\n      var themeBackground = nextTheme.global.colors.background; // get initial value for dark so we can normalize background color\n\n      nextTheme.dark = (themeMode || theme.defaultMode) === 'dark';\n      var color = normalizeColor(backgroundProp || themeBackground, nextTheme); // After normalizing, we set nextTheme.dark once more.\n      // It is necessary that we set it twice. We have to handle two cases:\n      // 1. Caller passes in a color object or a color name that resolves an\n      //    object. In this case, we want to set dark as line 38 shows. The\n      //    second set, in line 46, is a no-op.\n      // 2. Caller passes a specific color value or a color name that resolves\n      //    to a specific color value. In this case, we want dark to be set\n      //    based on that color, which line 46 will do.\n      // The double set of nextTheme.dark allows us to handle both cases here\n      // without having to duplicate color object + name + dark mode detection\n      // code here that is already in normalizeColor and backgroundIsDark.\n\n      nextTheme.dark = backgroundIsDark(color, nextTheme);\n      nextTheme.baseBackground = backgroundProp || themeBackground;\n\n      if (dir) {\n        nextTheme.dir = dir;\n      }\n\n      return {\n        theme: nextTheme,\n        themeProp: theme,\n        themeModeProp: themeMode\n      };\n    }\n\n    return null;\n  };\n\n  var _proto = Grommet.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    window.addEventListener('resize', this.onResize);\n    this.onResize();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('resize', this.onResize);\n  };\n\n  _proto.deviceResponsive = function deviceResponsive() {\n    var userAgent = this.props.userAgent;\n    var theme = this.state.theme;\n    /*\n     * Regexes provided for mobile and tablet detection are meant to replace\n     * a full-featured specific library due to contributing a considerable size\n     * into the bundle.\n     *\n     * User agents found https://deviceatlas.com/blog/list-of-user-agent-strings\n     */\n\n    if (userAgent) {\n      if (/(tablet|ipad|playbook|silk)|(android(?!.*mobile))/i.test(userAgent)) {\n        return getDeviceBreakpoint('tablet', theme);\n      }\n\n      if (/Mobile|iPhone|Android/.test(userAgent)) {\n        return getDeviceBreakpoint('phone', theme);\n      }\n\n      return getDeviceBreakpoint('computer', theme);\n    }\n\n    return undefined;\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        full = _this$props.full,\n        _this$props$container = _this$props.containerTarget,\n        containerTarget = _this$props$container === void 0 ? typeof document === 'object' ? document.body : undefined : _this$props$container,\n        rest = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"full\", \"containerTarget\"]);\n\n    delete rest.theme;\n    var _this$state2 = this.state,\n        theme = _this$state2.theme,\n        stateResponsive = _this$state2.responsive; // Value from state should be correct once we resize\n    // On first render we try to guess otherwise set the default as a tablet\n\n    var responsive = stateResponsive || this.deviceResponsive() || theme.global.deviceBreakpoints.tablet;\n    return /*#__PURE__*/React.createElement(ThemeContext.Provider, {\n      value: theme\n    }, /*#__PURE__*/React.createElement(ResponsiveContext.Provider, {\n      value: responsive\n    }, /*#__PURE__*/React.createElement(ContainerTargetContext.Provider, {\n      value: containerTarget\n    }, /*#__PURE__*/React.createElement(StyledGrommet, _extends({\n      full: full\n    }, rest), children), full && /*#__PURE__*/React.createElement(FullGlobalStyle, null))));\n  };\n\n  return Grommet;\n}(Component);\n\n_defineProperty(Grommet, \"displayName\", 'Grommet');\n\nvar GrommetDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  GrommetDoc = require('./doc').doc(Grommet);\n}\n\nvar GrommetWrapper = GrommetDoc || Grommet;\nexport { GrommetWrapper as Grommet };","map":{"version":3,"sources":["/Users/erwanbeguin/Documents/Developper/ynov/dataviz/node_modules/grommet/es6/components/Grommet/Grommet.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","create","constructor","__proto__","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","_templateObject","data","_taggedTemplateLiteralLoose","strings","raw","slice","React","Component","createGlobalStyle","ResponsiveContext","ThemeContext","ContainerTargetContext","backgroundIsDark","deepMerge","getBreakpoint","getDeviceBreakpoint","normalizeColor","base","baseTheme","StyledGrommet","FullGlobalStyle","Grommet","_Component","_this","_len","args","Array","_key","concat","_this$state","state","theme","responsive","breakpoint","deviceResponsive","window","innerWidth","setState","getDerivedStateFromProps","nextProps","prevState","backgroundProp","background","dir","_nextProps$theme","themeMode","stateTheme","themeProp","themeModeProp","nextTheme","themeBackground","global","colors","dark","defaultMode","color","baseBackground","_proto","componentDidMount","addEventListener","onResize","componentWillUnmount","removeEventListener","userAgent","props","test","undefined","render","_this$props","children","full","_this$props$container","containerTarget","document","body","rest","_this$state2","stateResponsive","deviceBreakpoints","tablet","createElement","Provider","GrommetDoc","process","env","NODE_ENV","require","doc","GrommetWrapper"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  body { margin: 0; }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteralLoose(strings, raw) { if (!raw) { raw = strings.slice(0); } strings.raw = raw; return strings; }\n\nimport React, { Component } from 'react';\nimport { createGlobalStyle } from 'styled-components';\nimport { ResponsiveContext, ThemeContext, ContainerTargetContext } from '../../contexts';\nimport { backgroundIsDark, deepMerge, getBreakpoint, getDeviceBreakpoint, normalizeColor } from '../../utils';\nimport { base as baseTheme } from '../../themes';\nimport { StyledGrommet } from './StyledGrommet';\nvar FullGlobalStyle = createGlobalStyle(_templateObject());\n\nvar Grommet = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Grommet, _Component);\n\n  function Grommet() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"onResize\", function () {\n      var _this$state = _this.state,\n          theme = _this$state.theme,\n          responsive = _this$state.responsive;\n      var breakpoint; // responsive would be undefined in the case of SSR or initial page load\n\n      if (!responsive) {\n        // In the case of SSR we'll need to use the user agent breakpoint\n        breakpoint = _this.deviceResponsive();\n      } // Initial page load where both responsive and breakpoint are undefined\n\n\n      if (!breakpoint) breakpoint = getBreakpoint(window.innerWidth, theme);\n\n      if (breakpoint !== responsive) {\n        _this.setState({\n          responsive: breakpoint\n        });\n      }\n    });\n\n    return _this;\n  }\n\n  Grommet.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var backgroundProp = nextProps.background,\n        dir = nextProps.dir,\n        _nextProps$theme = nextProps.theme,\n        theme = _nextProps$theme === void 0 ? {} : _nextProps$theme,\n        themeMode = nextProps.themeMode;\n    var stateTheme = prevState.theme,\n        themeProp = prevState.themeProp,\n        themeModeProp = prevState.themeModeProp;\n    var nextTheme = deepMerge(baseTheme, theme);\n\n    if (!stateTheme || theme !== themeProp || themeMode !== themeModeProp) {\n      var themeBackground = nextTheme.global.colors.background; // get initial value for dark so we can normalize background color\n\n      nextTheme.dark = (themeMode || theme.defaultMode) === 'dark';\n      var color = normalizeColor(backgroundProp || themeBackground, nextTheme); // After normalizing, we set nextTheme.dark once more.\n      // It is necessary that we set it twice. We have to handle two cases:\n      // 1. Caller passes in a color object or a color name that resolves an\n      //    object. In this case, we want to set dark as line 38 shows. The\n      //    second set, in line 46, is a no-op.\n      // 2. Caller passes a specific color value or a color name that resolves\n      //    to a specific color value. In this case, we want dark to be set\n      //    based on that color, which line 46 will do.\n      // The double set of nextTheme.dark allows us to handle both cases here\n      // without having to duplicate color object + name + dark mode detection\n      // code here that is already in normalizeColor and backgroundIsDark.\n\n      nextTheme.dark = backgroundIsDark(color, nextTheme);\n      nextTheme.baseBackground = backgroundProp || themeBackground;\n\n      if (dir) {\n        nextTheme.dir = dir;\n      }\n\n      return {\n        theme: nextTheme,\n        themeProp: theme,\n        themeModeProp: themeMode\n      };\n    }\n\n    return null;\n  };\n\n  var _proto = Grommet.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    window.addEventListener('resize', this.onResize);\n    this.onResize();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('resize', this.onResize);\n  };\n\n  _proto.deviceResponsive = function deviceResponsive() {\n    var userAgent = this.props.userAgent;\n    var theme = this.state.theme;\n    /*\n     * Regexes provided for mobile and tablet detection are meant to replace\n     * a full-featured specific library due to contributing a considerable size\n     * into the bundle.\n     *\n     * User agents found https://deviceatlas.com/blog/list-of-user-agent-strings\n     */\n\n    if (userAgent) {\n      if (/(tablet|ipad|playbook|silk)|(android(?!.*mobile))/i.test(userAgent)) {\n        return getDeviceBreakpoint('tablet', theme);\n      }\n\n      if (/Mobile|iPhone|Android/.test(userAgent)) {\n        return getDeviceBreakpoint('phone', theme);\n      }\n\n      return getDeviceBreakpoint('computer', theme);\n    }\n\n    return undefined;\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        full = _this$props.full,\n        _this$props$container = _this$props.containerTarget,\n        containerTarget = _this$props$container === void 0 ? typeof document === 'object' ? document.body : undefined : _this$props$container,\n        rest = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"full\", \"containerTarget\"]);\n\n    delete rest.theme;\n    var _this$state2 = this.state,\n        theme = _this$state2.theme,\n        stateResponsive = _this$state2.responsive; // Value from state should be correct once we resize\n    // On first render we try to guess otherwise set the default as a tablet\n\n    var responsive = stateResponsive || this.deviceResponsive() || theme.global.deviceBreakpoints.tablet;\n    return /*#__PURE__*/React.createElement(ThemeContext.Provider, {\n      value: theme\n    }, /*#__PURE__*/React.createElement(ResponsiveContext.Provider, {\n      value: responsive\n    }, /*#__PURE__*/React.createElement(ContainerTargetContext.Provider, {\n      value: containerTarget\n    }, /*#__PURE__*/React.createElement(StyledGrommet, _extends({\n      full: full\n    }, rest), children), full && /*#__PURE__*/React.createElement(FullGlobalStyle, null))));\n  };\n\n  return Grommet;\n}(Component);\n\n_defineProperty(Grommet, \"displayName\", 'Grommet');\n\nvar GrommetDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  GrommetDoc = require('./doc').doc(Grommet);\n}\n\nvar GrommetWrapper = GrommetDoc || Grommet;\nexport { GrommetWrapper as Grommet };"]},"metadata":{},"sourceType":"module"}